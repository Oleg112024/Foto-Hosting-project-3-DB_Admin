<!-- 
============================================================================
–®–ê–ë–õ–û–ù –ê–î–ú–ò–ù–ò–°–¢–†–ê–¢–ò–í–ù–û–ô –ü–ê–ù–ï–õ–ò –°–¢–ê–¢–ò–°–¢–ò–ö–ò - –ú–û–ù–ò–¢–û–†–ò–ù–ì –°–ò–°–¢–ï–ú–´
============================================================================

–≠—Ç–æ—Ç —à–∞–±–ª–æ–Ω –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—É—é –ø–∞–Ω–µ–ª—å –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
–¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã Image Hosting. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç
–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º –ø–æ–ª–Ω—É—é –∫–∞—Ä—Ç–∏–Ω—É –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π.

–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- –°–≤–æ–¥–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ç–∏–ø–∞–º –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –î–µ—Ç–∞–ª—å–Ω—ã–π –∂—É—Ä–Ω–∞–ª –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
- –°–∏—Å—Ç–µ–º–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- –§–∏–ª—å—Ç—Ä—ã –ø–æ —Ç–∏–ø—É –¥–µ–π—Å—Ç–≤–∏—è, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∑–∞–ø–∏—Å–µ–π
- –¶–≤–µ—Ç–æ–≤–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å–æ–±—ã—Ç–∏–π
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ IP-–∞–¥—Ä–µ—Å–æ–≤ –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫

–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Bootstrap –¥–ª—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–≥–æ –¥–∏–∑–∞–π–Ω–∞
- Jinja2 —Ñ–∏–ª—å—Ç—Ä—ã –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- GET-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
- Responsive —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- –¶–≤–µ—Ç–æ–≤—ã–µ –±–µ–π–¥–∂–∏ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–∏ —Å–æ–±—ã—Ç–∏–π

–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- –ó–∞—â–∏—Ç–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö

–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞:
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–æ–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É
- –ê–Ω–∞–ª–∏–∑ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ö–æ–Ω—Ç—Ä–æ–ª—å –æ–ø–µ—Ä–∞—Ü–∏–π —Å —Ñ–∞–π–ª–∞–º–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ –∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–π

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
- –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
- –ß–µ—Ç–∫–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å–æ–±—ã—Ç–∏–π
- –£–¥–æ–±–Ω–∞—è –ø–∞–≥–∏–Ω–∞—Ü–∏—è –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã —Å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π:
- –ü–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã user_statistics
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Flask pagination –¥–ª—è –±–æ–ª—å—à–∏—Ö –Ω–∞–±–æ—Ä–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å —Å–∏—Å—Ç–µ–º–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é —á–µ—Ä–µ–∑ URL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

============================================================================
-->

<!-- –ù–∞—Å–ª–µ–¥—É–µ–º –±–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω —Å –æ–±—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π -->
{% extends 'base.html' %}

<!-- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ -->
{% block title %}–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ - –¢–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤{% endblock %}

<!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–Ω–µ–ª–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
{% block content %}
<!-- ========================================================================
     –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ô–ù–ï–† –ê–î–ú–ò–ù–ò–°–¢–†–ê–¢–ò–í–ù–û–ô –ü–ê–ù–ï–õ–ò
     ======================================================================== -->
<div class="container mt-4">
    <!-- ====================================================================
         –ó–ê–ì–û–õ–û–í–û–ö –° –ò–ù–î–ò–ö–ê–¶–ò–ï–ô –ê–î–ú–ò–ù–ò–°–¢–†–ê–¢–ò–í–ù–û–ì–û –î–û–°–¢–£–ü–ê
         –ß–µ—Ç–∫–æ–µ –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞
         ==================================================================== -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å —ç–º–æ–¥–∑–∏ –∏–∫–æ–Ω–∫–æ–π -->
        <h2 class="text-primary">üìä –ë–∞–∑–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</h2>
        <!-- –ë–µ–π–¥–∂ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ -->
        <span class="badge bg-primary">ADMIN ACCESS</span>
    </div>
    
    <!-- ====================================================================
         –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï –û –ö–û–ù–§–ò–î–ï–ù–¶–ò–ê–õ–¨–ù–û–°–¢–ò –î–ê–ù–ù–´–•
         –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –≤–∞–∂–Ω–æ—Å—Ç–∏ –∑–∞—â–∏—Ç—ã –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
         ==================================================================== -->
    <div class="alert alert-info mb-4">
        <i class="fas fa-info-circle"></i> 
        <strong>–í–Ω–∏–º–∞–Ω–∏–µ:</strong> –î–∞–Ω–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Å–∏—Å—Ç–µ–º—ã –∏ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º.
    </div>
    
    <!-- –§–∏–ª—å—Ç—Ä—ã -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h5>üîç –§–∏–ª—å—Ç—Ä—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h5>
                </div>
                <div class="card-body">
                    <form method="GET" class="mb-3">
                        <div class="row g-3">
                            <div class="col-md-3">
                                <label for="action_type" class="form-label">–¢–∏–ø –¥–µ–π—Å—Ç–≤–∏—è:</label>
                                <select name="action_type" id="action_type" class="form-select">
                                    <option value="">–í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è</option>
                                    {% for action in action_types %}
                                    <option value="{{ action }}" {% if action == current_action_type %}selected{% endif %}>
                                        {% if action == 'login' %}–í—Ö–æ–¥
                                        {% elif action == '–≥–ª–∞–≤–Ω–∞—è_—Å—Ç—Ä–∞–Ω–∏—Ü–∞' %}–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
                                        {% elif action == '—É—Å–ø–µ—à–Ω—ã–π_–≤—Ö–æ–¥' %}–í—Ö–æ–¥
                                        {% elif action == '–ø–æ–ø—ã—Ç–∫–∞_–≤—Ö–æ–¥–∞' %}–ü–æ–ø—ã—Ç–∫–∞ –≤—Ö–æ–¥–∞
                                        {% elif action == '–Ω–µ—É–¥–∞—á–Ω—ã–π_–≤—Ö–æ–¥' %}–ù–µ—É–¥–∞—á–Ω—ã–π –≤—Ö–æ–¥
                                        {% elif action == '—É—Å–ø–µ—à–Ω–∞—è_–∑–∞–≥—Ä—É–∑–∫–∞' %}–ó–∞–≥—Ä—É–∑–∫–∞
                                        {% elif action == 'register' %}–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
                                        {% elif action == 'download' %}–°–∫–∞—á–∏–≤–∞–Ω–∏–µ
                                        {% elif action == '–ø—Ä–æ—Å–º–æ—Ç—Ä_–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è' %}–ü—Ä–æ—Å–º–æ—Ç—Ä
                                        {% elif action == '—É—Å–ø–µ—à–Ω–æ–µ_—É–¥–∞–ª–µ–Ω–∏–µ' %}–£–¥–∞–ª–µ–Ω–∏–µ                                                                           
                                                                                
                                        {% else %}{{ action }}
                                        {% endif %}
                                    </option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label for="user_email" class="form-label">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:</label>
                                <select name="user_email" id="user_email" class="form-select">
                                    <option value="">–í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</option>
                                    <option value="–ì–æ—Å—Ç—å" {% if current_user_email == '–ì–æ—Å—Ç—å' %}selected{% endif %}>üë• –ì–æ—Å—Ç—å</option>
                                    {% for user in users %}
                                    <option value="{{ user }}" {% if user == current_user_email %}selected{% endif %}>{{ user }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div class="col-md-2">
                                <label for="per_page" class="form-label">–ó–∞–ø–∏—Å–µ–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ:</label>
                                <select name="per_page" id="per_page" class="form-select">
                                    <option value="20" {% if per_page == 20 %}selected{% endif %}>20</option>
                                    <option value="50" {% if per_page == 50 %}selected{% endif %}>50</option>
                                    <option value="100" {% if per_page == 100 %}selected{% endif %}>100</option>
                                </select>
                            </div>
                            <div class="col-md-2">
                                <label class="form-label">&nbsp;</label>
                                <div>
                                    <button type="submit" class="btn btn-primary">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <label class="form-label">&nbsp;</label>
                                <div>
                                    <a href="{{ url_for('view_statistics') }}" class="btn btn-secondary">–°–±—Ä–æ—Å–∏—Ç—å</a>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- ====================================================================
         –û–°–ù–û–í–ù–ê–Ø –°–¢–†–û–ö–ê –ê–ù–ê–õ–ò–¢–ò–ß–ï–°–ö–ò–• –ü–ê–ù–ï–õ–ï–ô
         –°–≤–æ–¥–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –¥–µ—Ç–∞–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
         ==================================================================== -->
    <div class="row"> <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–∞–Ω–µ–ª–µ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
        <!-- ============================================================
             –ü–ê–ù–ï–õ–¨: –°–í–û–î–ù–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ü–û –¢–ò–ü–ê–ú –î–ï–ô–°–¢–í–ò–ô
             –ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ –≤—Å–µ—Ö —Ç–∏–ø–∞—Ö –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º–µ
             –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö: —Ñ—É–Ω–∫—Ü–∏—è get_statistics_summary() –∏–∑ admin_db.py
             ============================================================ -->
        <div class="col-md-6"> <!-- –õ–µ–≤–∞—è –ø–æ–ª–æ–≤–∏–Ω–∞ —ç–∫—Ä–∞–Ω–∞ –¥–ª—è —Å–≤–æ–¥–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
            <div class="card mb-4"> <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ —Å –æ—Ç—Å—Ç—É–ø–æ–º —Å–Ω–∏–∑—É -->
                <div class="card-header"> <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∫–∞—Ä—Ç–æ—á–∫–∏ -->
                    <h2 class="h5 mb-0">üìä –°–≤–æ–¥–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2> <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å —ç–º–æ–¥–∑–∏ –∏–∫–æ–Ω–∫–æ–π -->
                </div>
                <div class="card-body"> <!-- –¢–µ–ª–æ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å –¥–∞–Ω–Ω—ã–º–∏ -->
                    <table class="table table-striped"> <!-- –ü–æ–ª–æ—Å–∞—Ç–∞—è —Ç–∞–±–ª–∏—Ü–∞ Bootstrap -->
                        <thead> <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ç–∞–±–ª–∏—Ü—ã -->
                            <tr> <!-- –°—Ç—Ä–æ–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ -->
                                <th>–¢–∏–ø –¥–µ–π—Å—Ç–≤–∏—è</th> <!-- –ö–æ–ª–æ–Ω–∫–∞ —Ç–∏–ø–∞ –¥–µ–π—Å—Ç–≤–∏—è -->
                                <th>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ</th> <!-- –ö–æ–ª–æ–Ω–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–æ–±—ã—Ç–∏–π -->
                            </tr>
                        </thead>
                        <tbody> <!-- –¢–µ–ª–æ —Ç–∞–±–ª–∏—Ü—ã —Å –¥–∞–Ω–Ω—ã–º–∏ -->
                            {% for action_type, count in summary %} <!-- –¶–∏–∫–ª –ø–æ —Å–≤–æ–¥–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ -->
                            <tr> <!-- –°—Ç—Ä–æ–∫–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –¥–µ–π—Å—Ç–≤–∏—è -->
                                <td> <!-- –Ø—á–µ–π–∫–∞ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –¥–µ–π—Å—Ç–≤–∏—è -->
                                    <!-- –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –Ω–∞–∑–≤–∞–Ω–∏–π –≤ —á–∏—Ç–∞–µ–º—ã–µ -->
                                    {% if action_type == '—É—Å–ø–µ—à–Ω–∞—è_–∑–∞–≥—Ä—É–∑–∫–∞' %}–ó–∞–≥—Ä—É–∑–∫–∞ <!-- –£—Å–ø–µ—à–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ -->
                                    {% elif action_type == '–ø—Ä–æ—Å–º–æ—Ç—Ä_–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è' %}–ü—Ä–æ—Å–º–æ—Ç—Ä <!-- –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è -->
                                    {% elif action_type == '–ø–æ–ø—ã—Ç–∫–∞_–≤—Ö–æ–¥–∞' %}–ü–æ–ø—ã—Ç–∫–∞ –≤—Ö–æ–¥–∞ <!-- –ü–æ–ø—ã—Ç–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ -->
                                    {% elif action_type == '—É—Å–ø–µ—à–Ω—ã–π_–≤—Ö–æ–¥' %}–í—Ö–æ–¥ <!-- –£—Å–ø–µ—à–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è -->
                                    {% elif action_type == '–Ω–µ—É–¥–∞—á–Ω—ã–π_–≤—Ö–æ–¥' %}–ù–µ—É–¥–∞—á–Ω—ã–π –≤—Ö–æ–¥ <!-- –ù–µ—É–¥–∞—á–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è -->
                                    {% elif action_type == 'download' %}–°–∫–∞—á–∏–≤–∞–Ω–∏–µ <!-- –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ -->
                                    {% elif action_type == '—É—Å–ø–µ—à–Ω–æ–µ_—É–¥–∞–ª–µ–Ω–∏–µ' %}–£–¥–∞–ª–µ–Ω–∏–µ <!-- –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ -->
                                    {% elif action_type == 'login' %}–í—Ö–æ–¥ <!-- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≤—Ö–æ–¥–∞ -->
                                    {% elif action_type == 'register' %}–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è <!-- –°—Ç–∞—Ä–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
                                    {% elif action_type == '—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è' %}–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è <!-- –£—Å–ø–µ—à–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
                                    {% elif action_type == '–Ω–µ—É–¥–∞—á–Ω–∞—è_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è' %}–ù–µ—É–¥–∞—á–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è <!-- –ù–µ—É–¥–∞—á–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è -->
                                    {% elif action_type == '—É—Å–ø–µ—à–Ω–∞—è_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è_–∞–¥–º–∏–Ω–∞' %}–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∞–¥–º–∏–Ω–∞ <!-- –£—Å–ø–µ—à–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ -->
                                    {% elif action_type == '–Ω–µ—É–¥–∞—á–Ω–∞—è_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è_–∞–¥–º–∏–Ω–∞' %}–ù–µ—É–¥–∞—á–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∞–¥–º–∏–Ω–∞ <!-- –ü–æ–ø—ã—Ç–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å –∞–¥–º–∏–Ω email -->
                                    {% elif action_type == '–≥–ª–∞–≤–Ω–∞—è_—Å—Ç—Ä–∞–Ω–∏—Ü–∞' %}–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ <!-- –ü–æ—Å–µ—â–µ–Ω–∏–µ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
                                    {% else %}{{ action_type }} <!-- –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ç–∏–ø –¥–µ–π—Å—Ç–≤–∏—è -->
                                    {% endif %}
                                </td>
                                <td><span class="badge bg-primary">{{ count }}</span></td> <!-- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤ —Å–∏–Ω–µ–º –±–µ–π–¥–∂–µ -->
                            </tr>
                            {% else %} <!-- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –µ—Å–ª–∏ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
                            <tr> <!-- –°—Ç—Ä–æ–∫–∞ —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥–∞–Ω–Ω—ã—Ö -->
                                <td colspan="2">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏</td> <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É —Ç–∞–±–ª–∏—Ü—ã -->
                            </tr>
                            {% endfor %} <!-- –ö–æ–Ω–µ—Ü —Ü–∏–∫–ª–∞ –ø–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        
        <!-- ============================================================
             –ü–ê–ù–ï–õ–¨: –ü–û–°–õ–ï–î–ù–ò–ï –î–ï–ô–°–¢–í–ò–Ø –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï–ô
             –•—Ä–æ–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –∂—É—Ä–Ω–∞–ª –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π –≤ —Å–∏—Å—Ç–µ–º–µ
             –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö: —Ñ—É–Ω–∫—Ü–∏—è get_statistics_with_filters() –∏–∑ admin_db.py
             ============================================================ -->
        <div class="col-md-6"> <!-- –ü—Ä–∞–≤–∞—è –ø–æ–ª–æ–≤–∏–Ω–∞ —ç–∫—Ä–∞–Ω–∞ –¥–ª—è –∂—É—Ä–Ω–∞–ª–∞ –¥–µ–π—Å—Ç–≤–∏–π -->
            <div class="card"> <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –¥–ª—è –∂—É—Ä–Ω–∞–ª–∞ –¥–µ–π—Å—Ç–≤–∏–π -->
                <div class="card-header"> <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∫–∞—Ä—Ç–æ—á–∫–∏ -->
                    <div class="d-flex justify-content-between align-items-center"> <!-- Flexbox –¥–ª—è –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è -->
                        <h2 class="h5 mb-0">üïí –ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è</h2> <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å –∏–∫–æ–Ω–∫–æ–π —á–∞—Å–æ–≤ -->
                        <span class="badge bg-secondary">{{ total_records }} –∑–∞–ø–∏—Å–µ–π</span> <!-- –°—á–µ—Ç—á–∏–∫ –∑–∞–ø–∏—Å–µ–π -->
                    </div>
                </div>
                <div class="card-body"> <!-- –¢–µ–ª–æ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å –∂—É—Ä–Ω–∞–ª–æ–º -->
                    {% if details %} <!-- –£—Å–ª–æ–≤–∏–µ: –µ—Å–ª–∏ –µ—Å—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ -->
                    <div class="table-responsive"> <!-- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ -->
                        <table class="table table-striped table-sm"> <!-- –ö–æ–º–ø–∞–∫—Ç–Ω–∞—è –ø–æ–ª–æ—Å–∞—Ç–∞—è —Ç–∞–±–ª–∏—Ü–∞ -->
                            <thead> <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ç–∞–±–ª–∏—Ü—ã –∂—É—Ä–Ω–∞–ª–∞ -->
                                <tr> <!-- –°—Ç—Ä–æ–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ -->
                                    <th>–î–µ–π—Å—Ç–≤–∏–µ</th> <!-- –ö–æ–ª–æ–Ω–∫–∞ —Ç–∏–ø–∞ –¥–µ–π—Å—Ç–≤–∏—è -->
                                    <th>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</th> <!-- –ö–æ–ª–æ–Ω–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
                                    <th>–í—Ä–µ–º—è</th> <!-- –ö–æ–ª–æ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ —Å–æ–±—ã—Ç–∏—è -->
                                </tr>
                            </thead>
                            <tbody> <!-- –¢–µ–ª–æ —Ç–∞–±–ª–∏—Ü—ã —Å –∑–∞–ø–∏—Å—è–º–∏ –∂—É—Ä–Ω–∞–ª–∞ -->
                                {% for stat in details %} <!-- –¶–∏–∫–ª –ø–æ –¥–µ—Ç–∞–ª—å–Ω—ã–º –∑–∞–ø–∏—Å—è–º -->
                                <tr> <!-- –°—Ç—Ä–æ–∫–∞ –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞–ø–∏—Å–∏ -->
                                    <td> <!-- –Ø—á–µ–π–∫–∞ —Å —Ç–∏–ø–æ–º –¥–µ–π—Å—Ç–≤–∏—è –∏ —Ü–≤–µ—Ç–æ–≤—ã–º –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ–º -->
                                        <!-- –¶–≤–µ—Ç–æ–≤–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ –¥–µ–π—Å—Ç–≤–∏–π –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ -->
                                        {% if stat.action_type == '—É—Å–ø–µ—à–Ω–∞—è_–∑–∞–≥—Ä—É–∑–∫–∞' %} <!-- –£—Å–ø–µ—à–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ -->
                                            <span class="badge bg-success">–ó–∞–≥—Ä—É–∑–∫–∞</span> <!-- –ó–µ–ª–µ–Ω—ã–π: –ø–æ–∑–∏—Ç–∏–≤–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ -->
                                        {% elif stat.action_type == '–ø—Ä–æ—Å–º–æ—Ç—Ä_–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è' %} <!-- –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º -->
                                            <span class="badge bg-info">–ü—Ä–æ—Å–º–æ—Ç—Ä</span> <!-- –°–∏–Ω–∏–π: –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ -->
                                        {% elif stat.action_type == '–ø–æ–ø—ã—Ç–∫–∞_–≤—Ö–æ–¥–∞' %} <!-- –ü–æ–ø—ã—Ç–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ -->
                                            <span class="badge bg-warning">–ü–æ–ø—ã—Ç–∫–∞ –≤—Ö–æ–¥–∞</span> <!-- –ñ–µ–ª—Ç—ã–π: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—é—â–µ–µ –¥–µ–π—Å—Ç–≤–∏–µ -->
                                        {% elif stat.action_type == '—É—Å–ø–µ—à–Ω—ã–π_–≤—Ö–æ–¥' %} <!-- –£—Å–ø–µ—à–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è -->
                                            <span class="badge bg-primary">–í—Ö–æ–¥</span> <!-- –°–∏–Ω–∏–π: –æ—Å–Ω–æ–≤–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ -->
                                        {% elif stat.action_type == '–Ω–µ—É–¥–∞—á–Ω—ã–π_–≤—Ö–æ–¥' %} <!-- –ù–µ—É–¥–∞—á–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ –≤—Ö–æ–¥–∞ -->
                                            <span class="badge bg-danger">–ù–µ—É–¥–∞—á–Ω—ã–π –≤—Ö–æ–¥</span> <!-- –ö—Ä–∞—Å–Ω—ã–π: –æ–ø–∞—Å–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ -->
                                        {% elif stat.action_type == 'download' %} <!-- –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ -->
                                             <span class="badge bg-danger">–°–∫–∞—á–∏–≤–∞–Ω–∏–µ</span> <!-- –ö—Ä–∞—Å–Ω—ã–π: –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä -->
                                        {% elif stat.action_type == '—É—Å–ø–µ—à–Ω–æ–µ_—É–¥–∞–ª–µ–Ω–∏–µ' %} <!-- –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –∏–∑ —Å–∏—Å—Ç–µ–º—ã -->
                                            <span class="badge" style="background-color: #fd7e14; color: white;">–£–¥–∞–ª–µ–Ω–∏–µ</span> <!-- –û—Ä–∞–Ω–∂–µ–≤—ã–π: –¥–µ—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ -->
                                        {% elif stat.action_type == 'login' %} <!-- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≤—Ö–æ–¥–∞ -->
                                            <span class="badge bg-primary">–í—Ö–æ–¥</span> <!-- –°–∏–Ω–∏–π: –æ—Å–Ω–æ–≤–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ -->
                                        {% elif stat.action_type == 'register' %} <!-- –°—Ç–∞—Ä–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
                                            <span class="badge bg-warning">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</span> <!-- –ñ–µ–ª—Ç—ã–π: —É—Å—Ç–∞—Ä–µ–≤—à–∏–π —Ç–∏–ø -->
                                        {% elif stat.action_type == '—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è' %} <!-- –£—Å–ø–µ—à–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
                                            <span class="badge bg-success">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</span> <!-- –ó–µ–ª–µ–Ω—ã–π: —É—Å–ø–µ—à–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ -->
                                        {% elif stat.action_type == '–Ω–µ—É–¥–∞—á–Ω–∞—è_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è' %} <!-- –ù–µ—É–¥–∞—á–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
                                            <span class="badge bg-danger">–ù–µ—É–¥–∞—á–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</span> <!-- –ö—Ä–∞—Å–Ω—ã–π: –æ—à–∏–±–∫–∞ -->
                                        {% elif stat.action_type == '—É—Å–ø–µ—à–Ω–∞—è_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è_–∞–¥–º–∏–Ω–∞' %} <!-- –£—Å–ø–µ—à–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ -->
                                            <span class="badge" style="background-color: #6f42c1; color: white;">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∞–¥–º–∏–Ω–∞</span> <!-- –§–∏–æ–ª–µ—Ç–æ–≤—ã–π: –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ -->
                                        {% elif stat.action_type == '–Ω–µ—É–¥–∞—á–Ω–∞—è_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è_–∞–¥–º–∏–Ω–∞' %} <!-- –ü–æ–ø—ã—Ç–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å –∞–¥–º–∏–Ω email -->
                                            <span class="badge" style="background-color: #dc3545; color: white;">‚ö†Ô∏è –ù–µ—É–¥–∞—á–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∞–¥–º–∏–Ω–∞</span> <!-- –ö—Ä–∞—Å–Ω—ã–π —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º: —É–≥—Ä–æ–∑–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ -->
                                        {% elif stat.action_type == '–≥–ª–∞–≤–Ω–∞—è_—Å—Ç—Ä–∞–Ω–∏—Ü–∞' %} <!-- –ü–æ—Å–µ—â–µ–Ω–∏–µ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
                                            <span class="badge bg-light text-dark">üè† –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</span> <!-- –°–≤–µ—Ç–ª—ã–π: –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ -->
                                        {% else %} <!-- –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ç–∏–ø –¥–µ–π—Å—Ç–≤–∏—è -->
                                            <span class="badge bg-secondary">{{ stat.action_type }}</span> <!-- –°–µ—Ä—ã–π: –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ -->
                                        {% endif %} <!-- –ö–æ–Ω–µ—Ü —É—Å–ª–æ–≤–∏–π —Ü–≤–µ—Ç–æ–≤–æ–≥–æ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è -->
                                    </td>
                                    <td>{{ stat.user_email or '–ì–æ—Å—Ç—å' }}</td> <!-- Email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ '–ì–æ—Å—Ç—å' –¥–ª—è –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π -->
                                    <td><small>{{ stat.timestamp.strftime('%d.%m.%Y %H:%M:%S') }}</small></td> <!-- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è -->
                                </tr>
                                {% endfor %} <!-- –ö–æ–Ω–µ—Ü —Ü–∏–∫–ª–∞ –ø–æ –∑–∞–ø–∏—Å—è–º –∂—É—Ä–Ω–∞–ª–∞ -->
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- ============================================================
                         –ü–ê–ì–ò–ù–ê–¶–ò–Ø –î–õ–Ø –ù–ê–í–ò–ì–ê–¶–ò–ò –ü–û –ë–û–õ–¨–®–ò–ú –û–ë–™–ï–ú–ê–ú –î–ê–ù–ù–´–•
                         –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∑–∞–ø–∏—Å–∏ –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ
                         ============================================================ -->
                    {% if total_pages > 1 %} <!-- –£—Å–ª–æ–≤–∏–µ: –µ—Å–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü –±–æ–ª—å—à–µ –æ–¥–Ω–æ–π -->
                    <nav aria-label="–ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º" class="mt-3"> <!-- –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç —Å –æ—Ç—Å—Ç—É–ø–æ–º —Å–≤–µ—Ä—Ö—É -->
                        <ul class="pagination pagination-sm justify-content-center"> <!-- –ö–æ–º–ø–∞–∫—Ç–Ω–∞—è –ø–∞–≥–∏–Ω–∞—Ü–∏—è –ø–æ —Ü–µ–Ω—Ç—Ä—É -->
                            <!-- –ü—Ä–µ–¥—ã–¥—É—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
                            {% if current_page > 1 %}
                            <li class="page-item">
                                <a class="page-link" href="{{ url_for('view_statistics', page=current_page-1, action_type=current_action_type, user_email=current_user_email, per_page=per_page) }}">
                                    &laquo; –ü—Ä–µ–¥—ã–¥—É—â–∞—è
                                </a>
                            </li>
                            {% else %}
                            <li class="page-item disabled">
                                <span class="page-link">&laquo; –ü—Ä–µ–¥—ã–¥—É—â–∞—è</span>
                            </li>
                            {% endif %}
                            
                            <!-- –ù–æ–º–µ—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü -->
                            {% set start_page = [1, current_page - 2]|max %}
                            {% set end_page = [total_pages, current_page + 2]|min %}
                            
                            {% if start_page > 1 %}
                            <li class="page-item">
                                <a class="page-link" href="{{ url_for('view_statistics', page=1, action_type=current_action_type, user_email=current_user_email, per_page=per_page) }}">1</a>
                            </li>
                            {% if start_page > 2 %}
                            <li class="page-item disabled">
                                <span class="page-link">...</span>
                            </li>
                            {% endif %}
                            {% endif %}
                            
                            {% for page_num in range(start_page, end_page + 1) %}
                            <li class="page-item {% if page_num == current_page %}active{% endif %}">
                                <a class="page-link" href="{{ url_for('view_statistics', page=page_num, action_type=current_action_type, user_email=current_user_email, per_page=per_page) }}">{{ page_num }}</a>
                            </li>
                            {% endfor %}
                            
                            {% if end_page < total_pages %}
                            {% if end_page < total_pages - 1 %}
                            <li class="page-item disabled">
                                <span class="page-link">...</span>
                            </li>
                            {% endif %}
                            <li class="page-item">
                                <a class="page-link" href="{{ url_for('view_statistics', page=total_pages, action_type=current_action_type, user_email=current_user_email, per_page=per_page) }}">{{ total_pages }}</a>
                            </li>
                            {% endif %}
                            
                            <!-- –°–ª–µ–¥—É—é—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
                            {% if current_page < total_pages %}
                            <li class="page-item">
                                <a class="page-link" href="{{ url_for('view_statistics', page=current_page+1, action_type=current_action_type, user_email=current_user_email, per_page=per_page) }}">
                                    –°–ª–µ–¥—É—é—â–∞—è &raquo;
                                </a>
                            </li>
                            {% else %}
                            <li class="page-item disabled">
                                <span class="page-link">–°–ª–µ–¥—É—é—â–∞—è &raquo;</span>
                            </li>
                            {% endif %}
                        </ul>
                    </nav>
                    
                    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ -->
                    <div class="text-center text-muted mt-2">
                        <small>
                            –ü–æ–∫–∞–∑–∞–Ω–æ {{ (current_page - 1) * per_page + 1 }} - {{ [current_page * per_page, total_records]|min }} –∏–∑ {{ total_records }} –∑–∞–ø–∏—Å–µ–π
                            (—Å—Ç—Ä–∞–Ω–∏—Ü–∞ {{ current_page }} –∏–∑ {{ total_pages }})
                        </small>
                    </div>
                    {% endif %}
                    
                    {% else %}
                    <p class="text-muted">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏</p>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
    
    <div class="row mt-4">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <div class="d-flex justify-content-between align-items-center">
                        <h2 class="h5 mb-0">üìã –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                        <span class="badge bg-secondary">{{ total_records }} –∑–∞–ø–∏—Å–µ–π</span>
                    </div>
                </div>
                <div class="card-body">
                    {% if details %}
                    <div class="table-responsive">
                        <table class="table table-striped table-sm">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>–î–µ–π—Å—Ç–≤–∏–µ</th>
                                    <th>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</th>
                                    <th>–§–∞–π–ª ID</th>
                                    <th>IP-–∞–¥—Ä–µ—Å</th>
                                    <th>–í—Ä–µ–º—è</th>
                                    <th>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for stat in details %}
                                <tr>
                                    <td><small class="text-muted">#{{ stat.id }}</small></td>
                                    <td>
                                        {% if stat.action_type == '—É—Å–ø–µ—à–Ω–∞—è_–∑–∞–≥—Ä—É–∑–∫–∞' %}
                                            <span class="badge bg-success">–ó–∞–≥—Ä—É–∑–∫–∞</span>
                                        {% elif stat.action_type == '–ø—Ä–æ—Å–º–æ—Ç—Ä_–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è' %}
                                            <span class="badge bg-info">–ü—Ä–æ—Å–º–æ—Ç—Ä</span>
                                        {% elif stat.action_type == '–ø–æ–ø—ã—Ç–∫–∞_–≤—Ö–æ–¥–∞' %}
                                            <span class="badge bg-warning">–ü–æ–ø—ã—Ç–∫–∞ –≤—Ö–æ–¥–∞</span>
                                        {% elif stat.action_type == '—É—Å–ø–µ—à–Ω—ã–π_–≤—Ö–æ–¥' %}
                                            <span class="badge bg-primary">–í—Ö–æ–¥</span>
                                        {% elif stat.action_type == '–Ω–µ—É–¥–∞—á–Ω—ã–π_–≤—Ö–æ–¥' %}
                                            <span class="badge bg-danger">–ù–µ—É–¥–∞—á–Ω—ã–π –≤—Ö–æ–¥</span>
                                        {% elif stat.action_type == 'download' %}
                                            <span class="badge bg-danger">–°–∫–∞—á–∏–≤–∞–Ω–∏–µ</span>
                                        {% elif stat.action_type == '—É—Å–ø–µ—à–Ω–æ–µ_—É–¥–∞–ª–µ–Ω–∏–µ' %}
                                            <span class="badge" style="background-color: #fd7e14; color: white;">–£–¥–∞–ª–µ–Ω–∏–µ</span>
                                        {% elif stat.action_type == 'login' %}
                                            <span class="badge bg-primary">–í—Ö–æ–¥</span>
                                        {% elif stat.action_type == 'register' %}
                                            <span class="badge bg-warning">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</span>
                                        {% elif stat.action_type == '—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è' %}
                                            <span class="badge bg-success">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</span>
                                        {% elif stat.action_type == '–Ω–µ—É–¥–∞—á–Ω–∞—è_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è' %}
                                            <span class="badge bg-danger">–ù–µ—É–¥–∞—á–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</span>
                                        {% elif stat.action_type == '—É—Å–ø–µ—à–Ω–∞—è_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è_–∞–¥–º–∏–Ω–∞' %}
                                            <span class="badge" style="background-color: #6f42c1; color: white;">üîê –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∞–¥–º–∏–Ω–∞</span>
                                        {% elif stat.action_type == '–Ω–µ—É–¥–∞—á–Ω–∞—è_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è_–∞–¥–º–∏–Ω–∞' %}
                                            <span class="badge" style="background-color: #dc3545; color: white;">‚ö†Ô∏è –ù–µ—É–¥–∞—á–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∞–¥–º–∏–Ω–∞</span>
                                        {% else %}
                                            <span class="badge bg-secondary">{{ stat.action_type }}</span>
                                        {% endif %}
                                    </td>
                                    <td>{{ stat.user_email or '<span class="text-muted">–ì–æ—Å—Ç—å</span>' | safe }}</td>
                                    <td>{{ stat.file_id or '<span class="text-muted">-</span>' | safe }}</td>
                                    <td><code class="small">{{ stat.ip_address or '-' }}</code></td>
                                    <td><small>{{ stat.timestamp.strftime('%d.%m.%Y %H:%M:%S') }}</small></td>
                                    <td><small class="text-muted">{{ stat.additional_info or '-' }}</small></td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
                    {% if total_pages > 1 %}
                    <nav aria-label="–ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º" class="mt-3">
                        <ul class="pagination justify-content-center">
                            <!-- –ü—Ä–µ–¥—ã–¥—É—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
                            {% if current_page > 1 %}
                            <li class="page-item">
                                <a class="page-link" href="{{ url_for('view_statistics', page=current_page-1, action_type=current_action_type, user_email=current_user_email, per_page=per_page) }}">
                                    &laquo; –ü—Ä–µ–¥—ã–¥—É—â–∞—è
                                </a>
                            </li>
                            {% else %}
                            <li class="page-item disabled">
                                <span class="page-link">&laquo; –ü—Ä–µ–¥—ã–¥—É—â–∞—è</span>
                            </li>
                            {% endif %}
                            
                            <!-- –ù–æ–º–µ—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü -->
                            {% set start_page = [1, current_page - 2]|max %}
                            {% set end_page = [total_pages, current_page + 2]|min %}
                            
                            {% if start_page > 1 %}
                            <li class="page-item">
                                <a class="page-link" href="{{ url_for('view_statistics', page=1, action_type=current_action_type, user_email=current_user_email, per_page=per_page) }}">1</a>
                            </li>
                            {% if start_page > 2 %}
                            <li class="page-item disabled">
                                <span class="page-link">...</span>
                            </li>
                            {% endif %}
                            {% endif %}
                            
                            {% for page_num in range(start_page, end_page + 1) %}
                            <li class="page-item {% if page_num == current_page %}active{% endif %}">
                                <a class="page-link" href="{{ url_for('view_statistics', page=page_num, action_type=current_action_type, user_email=current_user_email, per_page=per_page) }}">{{ page_num }}</a>
                            </li>
                            {% endfor %}
                            
                            {% if end_page < total_pages %}
                            {% if end_page < total_pages - 1 %}
                            <li class="page-item disabled">
                                <span class="page-link">...</span>
                            </li>
                            {% endif %}
                            <li class="page-item">
                                <a class="page-link" href="{{ url_for('view_statistics', page=total_pages, action_type=current_action_type, user_email=current_user_email, per_page=per_page) }}">{{ total_pages }}</a>
                            </li>
                            {% endif %}
                            
                            <!-- –°–ª–µ–¥—É—é—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
                            {% if current_page < total_pages %}
                            <li class="page-item">
                                <a class="page-link" href="{{ url_for('view_statistics', page=current_page+1, action_type=current_action_type, user_email=current_user_email, per_page=per_page) }}">
                                    –°–ª–µ–¥—É—é—â–∞—è &raquo;
                                </a>
                            </li>
                            {% else %}
                            <li class="page-item disabled">
                                <span class="page-link">–°–ª–µ–¥—É—é—â–∞—è &raquo;</span>
                            </li>
                            {% endif %}
                        </ul>
                    </nav>
                    
                    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ -->
                    <div class="text-center text-muted mt-2">
                        <small>
                            –ü–æ–∫–∞–∑–∞–Ω–æ {{ (current_page - 1) * per_page + 1 }} - {{ [current_page * per_page, total_records]|min }} –∏–∑ {{ total_records }} –∑–∞–ø–∏—Å–µ–π
                            (—Å—Ç—Ä–∞–Ω–∏—Ü–∞ {{ current_page }} –∏–∑ {{ total_pages }})
                        </small>
                    </div>
                    {% endif %}
                    
                    {% else %}
                    <p class="text-muted">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏</p>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
    
    <!-- –ö–Ω–æ–ø–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É -->
    <div class="mt-4">
        <a href="{{ url_for('index') }}" class="btn btn-secondary">‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é</a>
    </div>
</div>
{% endblock %}